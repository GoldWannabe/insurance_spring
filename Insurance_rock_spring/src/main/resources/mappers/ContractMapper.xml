<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="ContractMapper">
	<select id="selectNameAndPhoneNum" resultType="com.mju.spring.entity.Contract">
		SELECT * FROM Contract WHERE customerName = #{customerName} and customerPhoneNum = #{customerPhoneNum}
	</select>

	<select id="selectContractProvision" resultType="com.mju.spring.dto.damageAssessment.compansate.ContractProvisionDto">
		SELECT contractID, insuranceID, insuranceName, securityFee, provisionFee, startDate, endDate from
		Contract where contractID = #{contractID}
	</select>

	<update id="updateContractProvisionFee">
		UPDATE Contract SET provisionFee = #{liablityCost} + #{provisionFee} 
		WHERE contractID = #{contractID}
	</update>
	
	<select id="selectContractManagement" resultType="com.mju.spring.entity.Contract">
		SELECT * FROM Contract WHERE customerName = #{customerName} and customerPhoneNum = #{customerPhoneNum}
	</select>
	
</mapper>